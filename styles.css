/* Flashcards Plugin Styles */

/* ==========================================================================
   CSS Variables (Plugin-specific)
   ========================================================================== */

/* No custom variables needed - using Obsidian's built-in CSS variables */

/* ==========================================================================
   Shared Components
   ========================================================================== */

/* --------------------------------------------------------------------------
   Progress Bar (shared by Review, Import, Regeneration)
   -------------------------------------------------------------------------- */
.flashcard-progress-bar {
flex: 1;
height: 6px;
background: var(--background-modifier-border);
border-radius: var(--radius-s);
overflow: hidden;
}

.flashcard-progress-fill {
height: 100%;
background: var(--interactive-accent);
transition: width 0.3s ease;
}

.flashcard-progress-text {
font-size: var(--font-ui-small);
color: var(--text-muted);
}

.flashcard-progress-hidden {
display: none;
}

/* --------------------------------------------------------------------------
   Modal Base Layout
   -------------------------------------------------------------------------- */

/* Standard modal with sticky header/footer */
.flashcard-modal {
display: flex;
flex-direction: column;
max-height: 60vh;
padding: 0 !important;
overflow: hidden;
}

.flashcard-modal-header {
flex: 0 0 auto;
padding: var(--size-4-4);
padding-right: 50px; /* Space for close button */
border-bottom: 1px solid var(--background-modifier-border);
background: var(--background-primary);
}

.flashcard-modal-content {
flex: 1 1 auto;
overflow-y: auto;
padding: var(--size-4-4);
}

.flashcard-modal-footer {
flex: 0 0 auto;
padding: var(--size-4-4);
border-top: 1px solid var(--background-modifier-border);
background: var(--background-primary);
}

/* Header title row (centered with inline selectors) */
.flashcard-modal-header-row {
margin-bottom: var(--size-4-4);
display: flex;
align-items: center;
justify-content: center;
flex-wrap: nowrap;
gap: var(--size-2-1);
font-size: var(--font-ui-medium);
font-weight: var(--font-semibold);
}

/* Remove margin when inside sticky header */
.flashcard-modal-header .flashcard-modal-header-row {
margin-bottom: 0;
}

.flashcard-modal-header-separator {
border-bottom: 1px solid var(--background-modifier-border);
margin-bottom: var(--size-4-4);
}

.flashcard-modal-header-text {
color: var(--text-normal);
}

/* --------------------------------------------------------------------------
   Modal Button Row (unified pattern)
   -------------------------------------------------------------------------- */
.flashcard-modal-buttons {
display: flex;
justify-content: space-between;
align-items: center;
width: 100%;
}

.flashcard-buttons-left,
.flashcard-buttons-right {
display: flex;
align-items: center;
gap: var(--size-4-2);
}

/* --------------------------------------------------------------------------
   Checkbox Toggle (shared by "Create another" and "Cache AI results")
   -------------------------------------------------------------------------- */
.flashcard-checkbox-toggle {
display: inline-flex;
align-items: center;
gap: var(--size-4-1);
color: var(--text-muted);
font-size: var(--font-ui-small);
cursor: pointer;
}

.flashcard-checkbox-toggle:hover {
color: var(--text-normal);
}

.flashcard-checkbox-toggle input {
margin: 0;
}

/* --------------------------------------------------------------------------
   Button Loading State
   -------------------------------------------------------------------------- */
.flashcard-button-loading {
position: relative;
padding-right: calc(var(--size-4-6) + var(--size-4-2));
}

.flashcard-button-loading::after {
content: "";
position: absolute;
right: var(--size-4-3);
top: 50%;
width: 12px;
height: 12px;
margin-top: -6px;
border-radius: 50%;
border: 2px solid var(--text-muted);
border-top-color: var(--text-accent);
animation: flashcard-spin 0.8s linear infinite;
}

@keyframes flashcard-spin {
to {
transform: rotate(360deg);
}
}

/* --------------------------------------------------------------------------
   Status Text (shown during async operations)
   -------------------------------------------------------------------------- */
.flashcard-modal-status-text {
width: 100%;
text-align: center;
font-size: var(--font-ui-smaller);
color: var(--text-muted);
min-height: 0;
max-height: 0;
overflow: hidden;
opacity: 0;
transition: all 0.2s ease;
}

.flashcard-modal-status-text.is-visible {
min-height: 1.4em;
max-height: 2em;
margin-top: var(--size-4-2);
opacity: 1;
}

/* --------------------------------------------------------------------------
   Card Form Modal
   -------------------------------------------------------------------------- */
.flashcard-card-progress {
margin-top: var(--size-4-4);
margin-bottom: var(--size-4-2);
}

/* --------------------------------------------------------------------------
   Modal Submitting State
   -------------------------------------------------------------------------- */
.flashcard-modal-submitting .flashcard-attach-btn {
pointer-events: none;
opacity: 0.5;
}

/* --------------------------------------------------------------------------
   Inline Dropdown & Search
   -------------------------------------------------------------------------- */
.flashcard-inline-dropdown {
font-size: var(--font-ui-medium);
font-weight: var(--font-semibold);
color: var(--text-accent);
margin: 0 var(--size-2-1);
}

.flashcard-inline-search {
font-size: var(--font-ui-medium);
font-weight: var(--font-semibold);
color: var(--text-accent);
margin: 0 var(--size-2-1);
min-width: 150px;
padding: var(--size-2-1) var(--size-4-2);
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-primary);
}

/* --------------------------------------------------------------------------
   Sticky List Container (shared)
   -------------------------------------------------------------------------- */
.flashcard-sticky-list {
max-height: 300px;
overflow-y: auto;
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-secondary);
}

.flashcard-sticky-list-header {
position: sticky;
top: 0;
z-index: 1;
background: var(--background-secondary);
border-bottom: 1px solid var(--background-modifier-border);
padding: var(--size-4-2) var(--size-4-3);
}

.flashcard-sticky-list-content {
display: flex;
flex-direction: column;
}

/* --------------------------------------------------------------------------
   SelectableListComponent
   -------------------------------------------------------------------------- */
.selectable-list-controls {
display: flex;
align-items: center;
gap: var(--size-4-2);
}

.selectable-list-count {
margin-left: auto;
font-size: var(--font-ui-small);
color: var(--text-muted);
}

.selectable-list {
/* Scroll container styles come from .flashcard-sticky-list */
}

.selectable-list-items {
/* Item container inside the scrollable list */
}

.selectable-list-item {
display: flex;
align-items: center;
gap: var(--size-4-2);
padding: var(--size-4-2) var(--size-4-3);
padding-left: calc(var(--size-4-3) + var(--sl-indent, 0) * 16px);
border-bottom: 1px solid var(--background-modifier-border);
}

.selectable-list-item:last-child {
border-bottom: none;
}

.selectable-list-item input[type="checkbox"] {
flex-shrink: 0;
}

.selectable-list-item-name {
flex: 1;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
}

.selectable-list-item-name-clickable {
cursor: pointer;
color: var(--text-accent);
}

.selectable-list-item-name-clickable:hover {
text-decoration: underline;
}

.selectable-list-item-secondary {
	color: var(--text-muted);
	font-size: var(--font-ui-small);
	flex-shrink: 0;
}

.selectable-list-item-disabled {
	color: var(--text-muted);
}

.selectable-list-item-disabled .selectable-list-item-name {
	font-style: italic;
}

.selectable-list-checkbox-hidden {
	visibility: hidden;
}

/* Virtual scrolling for large lists */
.selectable-list-virtual {
position: relative;
display: block;
}

/* Spacer element to establish total scrollable height */
.selectable-list-spacer {
width: 100%;
pointer-events: none;
}

/* Visible items container - positioned absolutely over the spacer */
.selectable-list-visible {
position: absolute;
top: 0;
left: 0;
right: 0;
}

.selectable-list-measure {
position: absolute;
visibility: hidden;
}

/* --------------------------------------------------------------------------
   FileListComponent
   -------------------------------------------------------------------------- */
.file-list {
max-height: 300px;
overflow-y: auto;
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-secondary);
list-style: none;
padding: 0;
margin: 0 0 var(--size-4-4) 0;
}

.file-list-item {
padding: var(--size-4-2) var(--size-4-3);
border-bottom: 1px solid var(--background-modifier-border);
}

.file-list-item:last-child {
border-bottom: none;
}

.file-list-link {
color: var(--text-accent);
text-decoration: none;
cursor: pointer;
}

.file-list-link:hover {
text-decoration: underline;
}

.file-list-name {
color: var(--text-normal);
}

.file-list-secondary {
color: var(--text-muted);
font-size: var(--font-ui-small);
}

/* ==========================================================================
   Dashboard View
   ========================================================================== */

.flashcard-dashboard {
padding: var(--size-4-4);
background-color: var(--background-primary);
min-height: 100%;
}

.flashcard-dashboard > * {
max-width: 800px;
margin-left: auto;
margin-right: auto;
}

.flashcard-dashboard-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--size-4-4);
padding-bottom: var(--size-4-2);
border-bottom: 1px solid var(--background-modifier-border);
}

.flashcard-dashboard-toolbar {
display: flex;
gap: var(--size-4-2);
}

/* --------------------------------------------------------------------------
   Deck List
   -------------------------------------------------------------------------- */
.flashcard-deck-list {
display: flex;
flex-direction: column;
gap: var(--size-4-1);
}

.flashcard-deck-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: var(--size-4-2) var(--size-4-3);
border-radius: var(--radius-s);
transition: background 0.1s ease;
}

.flashcard-deck-item:hover {
background: var(--background-modifier-hover);
}

.flashcard-deck-info {
display: flex;
align-items: center;
gap: var(--size-4-3);
flex: 1;
}

.flashcard-deck-name {
display: flex;
align-items: center;
gap: var(--size-4-1);
font-weight: var(--font-medium);
}

.flashcard-deck-toggle {
display: inline-flex;
align-items: center;
justify-content: center;
cursor: pointer;
color: var(--text-muted);
}

.flashcard-deck-toggle:hover {
color: var(--text-accent);
}

.flashcard-deck-toggle:focus-visible {
outline: 2px solid var(--background-modifier-border-focus);
outline-offset: 2px;
border-radius: var(--radius-s);
}

.flashcard-deck-toggle-disabled {
cursor: default;
color: var(--text-faint);
}

.flashcard-deck-toggle-disabled:hover {
color: var(--text-faint);
}

.flashcard-deck-name-link {
cursor: pointer;
text-decoration: none;
}

.flashcard-deck-name-link:hover {
color: var(--text-accent);
text-decoration: underline;
text-decoration-thickness: 1px;
text-underline-offset: 2px;
}

.flashcard-deck-stats {
display: flex;
gap: var(--size-4-2);
}

.flashcard-stat {
padding: var(--size-2-2) var(--size-4-3);
border-radius: var(--radius-m);
font-size: var(--font-ui-smaller);
font-weight: var(--font-medium);
background-color: var(--background-primary-alt);
border: 1px solid var(--background-modifier-border);
}

.flashcard-stat-clickable {
cursor: pointer;
text-decoration: none;
transition: background-color 0.1s ease;
}

.flashcard-stat-clickable:hover {
text-decoration: underline;
background-color: var(--background-modifier-hover);
}

.flashcard-stat-clickable:focus-visible {
outline: 2px solid var(--background-modifier-border-focus);
outline-offset: 2px;
}

.flashcard-stat-new {
color: var(--color-blue);
}

.flashcard-stat-learning {
color: var(--color-orange);
}

.flashcard-stat-relearn {
color: var(--color-red);
}

.flashcard-stat-due {
color: var(--color-green);
}

.flashcard-stat-error {
color: var(--text-on-accent);
background-color: var(--color-red);
border-color: var(--color-red);
}

.flashcard-stat-error:hover {
background-color: var(--color-red);
opacity: 0.9;
text-decoration: underline;
}

.flashcard-deck-actions {
display: flex;
gap: var(--size-4-2);
}

/* --------------------------------------------------------------------------
   Empty State
   -------------------------------------------------------------------------- */
.flashcard-empty-state {
text-align: center;
padding: var(--size-4-8);
color: var(--text-muted);
display: flex;
flex-direction: column;
align-items: center;
gap: var(--size-4-4);
}

.flashcard-empty-state p {
margin: 0;
}

/* --------------------------------------------------------------------------
   Small Button Modifier
   -------------------------------------------------------------------------- */
.flashcard-btn-small {
padding: var(--size-2-1) var(--size-4-2) !important;
font-size: var(--font-ui-smaller) !important;
}

/* ==========================================================================
   Review View
   ========================================================================== */

.flashcard-review {
display: flex;
flex-direction: column;
height: 100%;
padding: var(--size-4-4);
background-color: var(--background-primary);
}

.flashcard-review-progress {
display: flex;
align-items: center;
gap: var(--size-4-3);
margin-bottom: var(--size-4-4);
max-width: 700px;
width: 100%;
margin-left: auto;
margin-right: auto;
flex-shrink: 0;
}

.flashcard-review-menu {
margin-left: auto;
display: inline-flex;
align-items: center;
justify-content: center;
width: 28px;
height: 28px;
border-radius: var(--radius-s);
color: var(--text-muted);
cursor: pointer;
}

.flashcard-review-menu:hover {
background: var(--background-modifier-hover);
color: var(--text-normal);
}

.flashcard-review-menu:focus-visible {
outline: 2px solid var(--background-modifier-border-focus);
outline-offset: 2px;
}

/* --------------------------------------------------------------------------
   Scroll Wrapper with Fades
   -------------------------------------------------------------------------- */
.flashcard-scroll-wrapper {
flex: 1;
position: relative;
width: 100%;
margin-bottom: var(--size-4-4);
overflow: hidden;
display: flex;
flex-direction: column;
}

.flashcard-fade-top {
position: absolute;
top: 0;
left: 0;
right: 0;
height: 40px;
background: linear-gradient(to bottom, var(--background-primary), transparent);
pointer-events: none;
z-index: 2;
}

.flashcard-fade-bottom {
position: absolute;
bottom: 0;
left: 0;
right: 0;
height: 40px;
background: linear-gradient(to top, var(--background-primary), transparent);
pointer-events: none;
z-index: 2;
}

/* --------------------------------------------------------------------------
   Card Display
   -------------------------------------------------------------------------- */
.flashcard-card-container {
flex: 1;
display: flex;
justify-content: center;
align-items: flex-start;
overflow-y: auto;
padding: var(--size-4-6);
scroll-behavior: smooth;
}

.flashcard-card {
width: 100%;
max-width: 700px;
background: var(--background-secondary);
border-radius: var(--radius-m);
padding: var(--size-4-6);
box-shadow: var(--shadow-s);
}

.theme-dark .flashcard-card {
border: 1px solid var(--background-modifier-border);
}

.flashcard-card-content {
font-size: var(--font-text-size);
line-height: var(--line-height-normal);
}

.flashcard-card-content p:first-child {
margin-top: 0;
}

.flashcard-card-content p:last-child {
margin-bottom: 0;
}

.flashcard-side-separator {
margin: var(--size-4-4) 0;
border: none;
max-width: 700px;
margin-left: auto;
margin-right: auto;
border-top: 2px dashed var(--background-modifier-border);
}

/* --------------------------------------------------------------------------
   Review Controls
   -------------------------------------------------------------------------- */
.flashcard-controls {
display: flex;
align-items: center;
justify-content: space-between;
gap: var(--size-4-2);
width: 100%;
flex-shrink: 0;
}

.flashcard-actions {
display: flex;
flex-direction: column;
align-items: center;
gap: var(--size-4-2);
flex: 1;
}

.flashcard-btn-reveal {
padding: var(--size-4-3) var(--size-4-6) !important;
font-size: var(--font-ui-medium) !important;
}

.flashcard-hint {
font-size: var(--font-ui-smaller);
color: var(--text-faint);
}

/* --------------------------------------------------------------------------
   Rating Buttons
   -------------------------------------------------------------------------- */
.flashcard-rating-buttons {
display: flex;
gap: var(--size-4-2);
flex-wrap: wrap;
justify-content: center;
}

.flashcard-rating-buttons > div {
display: flex;
flex-direction: column;
align-items: center;
gap: var(--size-2-1);
}

.flashcard-rating-buttons button {
min-width: 70px;
}

.flashcard-interval {
font-size: var(--font-ui-smaller);
color: var(--text-muted);
margin-top: var(--size-2-1);
}

.flashcard-btn-again button {
color: var(--color-red);
border-color: var(--color-red);
background-color: hsla(var(--color-red-hsl), 0.1);
}

.flashcard-btn-again button:hover {
background-color: hsla(var(--color-red-hsl), 0.2);
box-shadow: 0 0 8px hsla(var(--color-red-hsl), 0.5);
}

.flashcard-btn-hard button {
color: var(--color-yellow);
border-color: var(--color-yellow);
background-color: hsla(var(--color-yellow-hsl), 0.1);
}

.flashcard-btn-hard button:hover {
background-color: hsla(var(--color-yellow-hsl), 0.2);
box-shadow: 0 0 8px hsla(var(--color-yellow-hsl), 0.5);
}

.flashcard-btn-good button {
color: var(--color-green);
border-color: var(--color-green);
background-color: hsla(var(--color-green-hsl), 0.1);
}

.flashcard-btn-good button:hover {
background-color: hsla(var(--color-green-hsl), 0.2);
box-shadow: 0 0 8px hsla(var(--color-green-hsl), 0.5);
}

.flashcard-btn-easy button {
color: var(--color-blue);
border-color: var(--color-blue);
background-color: hsla(var(--color-blue-hsl), 0.1);
}

.flashcard-btn-easy button:hover {
background-color: hsla(var(--color-blue-hsl), 0.2);
box-shadow: 0 0 8px hsla(var(--color-blue-hsl), 0.5);
}

.flashcard-rating-hints {
display: flex;
gap: var(--size-4-4);
font-size: var(--font-ui-smaller);
color: var(--text-faint);
}

/* --------------------------------------------------------------------------
   Edit Button & Complete State
   -------------------------------------------------------------------------- */
.flashcard-btn-edit {
position: static;
}

.flashcard-btn-edit.clickable-icon {
background: transparent;
border: none;
}

.flashcard-complete-state {
text-align: center;
padding: var(--size-4-8);
}

.flashcard-complete-icon {
font-size: 48px;
color: var(--color-green);
margin-bottom: var(--size-4-4);
}

.flashcard-complete-icon svg {
width: 48px;
height: 48px;
}

/* ==========================================================================
   Card Form Modal
   ========================================================================== */

.flashcard-card-modal {
display: flex;
flex-direction: column;
min-width: 500px;
max-height: 55vh;
padding: 0 !important;
overflow: hidden;
}

.flashcard-modal-sticky-header {
flex: 0 0 auto;
padding: var(--size-4-4);
padding-right: 50px;
border-bottom: 1px solid var(--background-modifier-border);
background: var(--background-primary);
}

.flashcard-modal-sticky-header .flashcard-modal-header-row {
margin-bottom: 0;
}

.flashcard-modal-scroll-content {
flex: 1 1 auto;
overflow-y: auto;
padding: var(--size-4-4);
}

.flashcard-modal-sticky-footer {
  flex: 0 0 auto;
  padding: var(--size-4-4);
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
}

/* Distinctive styling for Card Errors Modal */
.flashcard-error-modal h2 {
  color: var(--color-red);
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.flashcard-error-modal h2::before {
  content: "⚠️";
  font-size: 1em;
}

.flashcard-error-modal .flashcard-error-list {
  border-left: 3px solid var(--color-red);
}

/* --------------------------------------------------------------------------
   Form Fields
   -------------------------------------------------------------------------- */
.flashcard-field-row {
display: flex;
align-items: flex-start;
gap: var(--size-4-3);
margin-bottom: var(--size-4-3);
}

.flashcard-field-label-inline {
flex-shrink: 0;
width: 80px;
font-weight: var(--font-medium);
color: var(--text-muted);
padding-top: var(--size-4-2);
text-align: right;
}

.flashcard-textarea-container {
flex: 1;
position: relative;
}

.flashcard-textarea-container .flashcard-textarea-full-width {
width: 100%;
padding-right: var(--size-4-8);
padding-bottom: var(--size-4-6);
resize: vertical;
}

.flashcard-textarea-full-width {
width: 100%;
}

/* --------------------------------------------------------------------------
   Attachment Button
   -------------------------------------------------------------------------- */
.flashcard-attach-btn {
position: absolute;
bottom: var(--size-4-2);
right: var(--size-4-2);
width: 24px;
height: 24px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
color: var(--text-faint);
border-radius: var(--radius-s);
transition: color 0.1s ease, background 0.1s ease;
}

.flashcard-attach-btn:hover {
color: var(--text-normal);
background: var(--background-modifier-hover);
}

.flashcard-attach-btn svg {
width: 16px;
height: 16px;
}

.flashcard-hidden-input {
display: none;
}

/* --------------------------------------------------------------------------
   Deck Suggest Note
   -------------------------------------------------------------------------- */
.flashcard-deck-suggest-note {
font-size: var(--font-ui-small);
color: var(--text-muted);
}

/* ==========================================================================
   Template Name Modal
   ========================================================================== */

.flashcard-template-name-modal .flashcard-modal-buttons {
margin-top: var(--size-4-4);
padding-top: var(--size-4-4);
border-top: 1px solid var(--background-modifier-border);
}

/* ==========================================================================
   Orphan Attachments Modal
   ========================================================================== */

.flashcard-orphan-modal {
width: 100%;
max-width: 620px;
}

.flashcard-orphan-list {
max-height: 300px;
overflow: auto;
margin: var(--size-4-2) 0;
padding: var(--size-2-2) var(--size-4-4) var(--size-2-2) var(--size-4-6);
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-secondary);
box-sizing: border-box;
}

.flashcard-orphan-list li {
margin: var(--size-2-1) 0;
color: var(--text-normal);
}

.flashcard-orphan-link {
color: var(--text-accent);
text-decoration: none;
}

.flashcard-orphan-link:hover {
text-decoration: underline;
}

/* ==========================================================================
   Card Errors Modal
   ========================================================================== */

.flashcard-error-list {
max-height: 300px;
overflow: auto;
margin: var(--size-4-2) 0;
padding: var(--size-2-2) var(--size-4-4) var(--size-2-2) var(--size-4-6);
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-secondary);
box-sizing: border-box;
}

.flashcard-error-list li {
margin: var(--size-2-1) 0;
color: var(--text-normal);
}

.flashcard-error-link {
color: var(--text-accent);
text-decoration: none;
}

.flashcard-error-link:hover {
text-decoration: underline;
}

.flashcard-error-name {
color: var(--text-muted);
}

.flashcard-error-hint {
color: var(--text-muted);
font-size: var(--font-ui-smaller);
}

/* ==========================================================================
   Anki Import Modal
   ========================================================================== */

.anki-import-modal {
min-width: 450px;
}

.anki-import-modal h2 {
text-align: center;
}

.anki-import-file-input-hidden {
display: none;
}

.anki-import-file-section {
margin-bottom: var(--size-4-4);
}

.anki-import-filename {
color: var(--text-muted);
font-size: var(--font-ui-small);
}

.anki-import-separator {
width: 100%;
border-top: 1px solid var(--background-modifier-border);
margin: var(--size-4-4) 0;
}

.anki-import-deck-list {
margin: var(--size-4-4) 0;
padding: 0;
}

.anki-import-deck-list-hidden {
display: none;
}

.anki-import-controls {
display: flex;
gap: var(--size-4-2);
padding: var(--size-4-2);
border-bottom: 1px solid var(--background-modifier-border);
position: sticky;
top: 0;
background-color: var(--background-primary);
z-index: 1;
}

.anki-import-decks {
display: flex;
flex-direction: column;
gap: var(--size-4-1);
padding: var(--size-4-2);
}

.anki-import-deck-row {
display: flex;
align-items: center;
gap: var(--size-4-2);
padding: var(--size-4-1) var(--size-4-2);
border-radius: var(--radius-s);
}

.anki-import-deck-row:hover {
background: var(--background-modifier-hover);
}

.anki-import-checkbox {
margin: 0;
}

.anki-import-deck-name {
flex: 1;
}

.anki-import-deck-count {
color: var(--text-muted);
font-size: var(--font-ui-smaller);
}

.anki-import-folder-section {
margin: var(--size-4-4) 0;
}

.anki-import-file-section .setting-item {
align-items: center;
justify-content: space-between;
width: 100%;
}

.anki-import-file-section .setting-item-info {
flex: 1;
}

.anki-import-file-section .setting-item-control {
flex: 0 0 auto;
}

.anki-import-file-control {
display: flex;
flex-direction: column;
align-items: flex-end;
justify-content: center;
gap: var(--size-4-1);
text-align: right;
}

.anki-import-loading,
.anki-import-empty,
.anki-import-error {
color: var(--text-muted);
text-align: center;
padding: var(--size-4-4);
}

.anki-import-error {
color: var(--text-error);
}

/* ==========================================================================
   Template Regeneration Modal
   ========================================================================== */

.template-regen-modal {
width: 100%;
max-width: 550px;
}

.template-regen-description {
color: var(--text-muted);
font-size: var(--font-ui-small);
margin: 0 0 var(--size-4-3) 0;
}

.template-regen-controls {
display: flex;
align-items: center;
gap: var(--size-4-2);
margin-bottom: var(--size-4-2);
}

.template-regen-count {
margin-left: auto;
font-size: var(--font-ui-smaller);
color: var(--text-muted);
}

.template-regen-card-list {
max-height: 300px;
overflow-y: auto;
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-s);
background: var(--background-secondary);
margin-bottom: var(--size-4-4);
}

.template-regen-cards,
.template-regen-visible-items {
width: 100%;
}

.template-regen-card-row {
display: flex;
align-items: center;
gap: var(--size-4-2);
padding: var(--size-2-2) var(--size-4-3);
border-bottom: 1px solid var(--background-modifier-border);
}

.template-regen-card-row:last-child {
border-bottom: none;
}

.template-regen-card-row:hover {
background: var(--background-modifier-hover);
}

.template-regen-checkbox {
flex-shrink: 0;
margin: 0;
}

.template-regen-card-name {
flex: 1;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
font-size: var(--font-ui-small);
}

.template-regen-progress {
margin-top: var(--size-4-4);
margin-bottom: var(--size-4-3);
}

.template-regen-virtual-scroll {
width: 100%;
height: var(--virtual-scroll-height, auto);
position: relative;
}

.template-regen-visible-items {
position: absolute;
left: 0;
right: 0;
top: var(--visible-items-top, 0);
}

/* ==========================================================================
   Textarea Suggest Popover
   ========================================================================== */

.flashcard-suggest-container {
position: fixed;
left: var(--flashcard-suggest-left, 0px);
top: var(--flashcard-suggest-top, 0px);
width: var(--flashcard-suggest-width, 240px);
z-index: var(--layer-menu);
background: var(--background-primary);
border: 1px solid var(--background-modifier-border);
border-radius: var(--radius-m);
box-shadow: var(--shadow-s);
max-height: 300px;
overflow-y: auto;
}

.flashcard-suggest-container .suggestion-item {
padding: var(--size-4-2) var(--size-4-3);
cursor: pointer;
}

.flashcard-suggest-container .suggestion-item:hover,
.flashcard-suggest-container .suggestion-item.is-selected {
background: var(--background-modifier-hover);
}

.flashcard-suggest-container .suggestion-title {
font-weight: var(--font-medium);
color: var(--text-normal);
}

.flashcard-suggest-container .suggestion-note {
font-size: var(--font-ui-smaller);
color: var(--text-muted);
}

/* ==========================================================================
   Settings
   ========================================================================== */

.flashcard-settings-template-textarea {
width: 100%;
min-height: 140px;
height: 140px;
resize: vertical;
font-family: var(--font-monospace);
font-size: var(--font-ui-smaller);
}

.flashcard-settings-system-prompt {
width: 100%;
height: 80px;
min-height: 80px;
resize: vertical;
font-family: var(--font-monospace);
font-size: var(--font-ui-smaller);
}

/* ==========================================================================
   Notice Components
   ========================================================================== */

.flashcard-notice-container {
display: flex;
flex-direction: column;
gap: var(--size-4-2);
}

.flashcard-notice-buttons {
display: flex;
gap: var(--size-4-2);
}

.flashcard-template-notice {
padding: var(--size-4-2) !important;
}

.flashcard-notice-row {
display: flex;
align-items: center;
justify-content: space-between;
gap: var(--size-4-4);
width: 100%;
}

.flashcard-notice-actions {
display: flex;
align-items: center;
}
